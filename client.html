<script>



var wsServer = 'ws://chat.websocket.dennings.org:8080';
var websocket = new WebSocket(wsServer);

websocket.onopen = function (evt) {
	console.log("成功連接到 WebSocket 服務");
};

websocket.onclose = function (evt) {
	console.log("關閉連接 WebSocket 服務");
};

websocket.onmessage = function (evt) {
	console.log('伺服器顯示:' + evt.data);
};

websocket.onerror = function (evt, e) {
	console.log('發生錯誤: ' + evt.data);
};


// 發送訊息給所有人
const send_msg = function (){
	var name = document.getElementsByClassName('name')[0].value;
	var msg = JSON.stringify({
		message: '你好，我是' + name,
	})
	websocket.send(msg)
}

</script>

<input type="text" class="name" placeholder="請輸入姓名" autofocus>
<input type="submit" value="發送" onclick="send_msg(); ">